{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} - Log in{% endblock %}
{% block main_attributes %}class="valign-wrapper"
{% endblock %}
{% block content %}

	<div class="container">
		<div class="row">
			<div class="col m12 l6 offset-l3 z-depth-3 rounded">
				<div class="box center-align">
					<h4>Log in</h4>
					<br/>

                    {% if app.user %}
							<div class="mb-3">
								You are logged in as
								{{ app.user.username }},
								<a href="{{ path('app_logout') }}">Logout</a>
							</div>
						{% else %}
					<form method="post">
						{% if error %}
							<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
						{% endif %}

						

                        <div class="input-field">
						    <label for="inputEmail">Email</label>
						    <input type="email" value="{{ last_username }}" name="email" id="inputEmail" autocomplete="email" required autofocus>
                        </div>
                        <div class="input-field">
						    <label for="inputPassword">Password</label>
						    <input type="password" name="password" id="inputPassword" autocomplete="current-password" required>
                        </div>
						<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

						<button class="btn" type="submit">
							Sign in
						</button>
					</form>

                    {% endif %}
				</div>
			</div>
		</div>
	</div>

{% endblock %}
